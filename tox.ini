[tox]
envlist = py313, py314
isolated_build = True
ignore_basepython_conflict = true

[testenv]
basepython = python3
allowlist_externals = uv
skip_install = true
set_env =
    py313: UV_PYTHON = 3.13
    py314: UV_PYTHON = 3.14

commands =
    uv python install {env:UV_PYTHON}
    uv sync --all-extras --dev --python {env:UV_PYTHON}
    uv run --python {env:UV_PYTHON} pytest --cov vunnel -v --durations=10 tests/unit/
